<form th:action="@{/web/trabajadores/guardar}" th:object="${trabajador}" method="post">
    
    <div class="modal-body">
        
        <input type="hidden" th:field="*{id}">

        <h6 class="border-bottom pb-2 mb-3" style="color: #6f42c1;">
            <i class="fa-solid fa-id-card"></i> Datos Personales
        </h6>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label fw-bold small text-muted">Nombres</label>
                <input type="text" class="form-control" th:field="*{nombre}" required placeholder="Ej: Juan">
            </div>
            <div class="col-md-6 mb-3">
                <label class="form-label fw-bold small text-muted">Apellidos</label>
                <input type="text" class="form-control" th:field="*{apellidos}" required placeholder="Ej: Perez">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label class="form-label fw-bold small text-muted">DNI</label>
                <input type="text" class="form-control" th:field="*{dni}" required maxlength="8" placeholder="12345678">
            </div>
            <div class="col-md-6">
                <label class="form-label fw-bold small text-muted">Teléfono</label>
                <input type="text" class="form-control" th:field="*{telefono}" placeholder="999-999-999">
            </div>
        </div>

        <h6 class="border-bottom pb-2 mb-3 mt-4" style="color: #6f42c1;">
            <i class="fa-solid fa-user-lock"></i> Cuenta de Usuario
        </h6>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label class="form-label fw-bold small text-muted">Usuario (Login)</label>
                <div class="input-group">
                    <span class="input-group-text bg-light"><i class="fa-solid fa-user"></i></span>
                    <input type="text" class="form-control" th:field="*{username}" required>
                </div>
            </div>
            
            <div class="col-md-6 mb-3">
                <label class="form-label fw-bold small text-muted">Rol</label>
                <select class="form-select border-2" th:field="*{rol}" style="border-color: #6f42c1;" required>
                    <option value="">-- Seleccione --</option>
                    <option th:each="r : ${roles}" 
                            th:value="${r.id}" 
                            th:text="${r.nombre}">
                    </option>
                </select>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label fw-bold small text-muted">Contraseña</label>
            <div class="input-group">
                <span class="input-group-text bg-light"><i class="fa-solid fa-key"></i></span>
                <input type="password" class="form-control" th:field="*{pass}" required>
            </div>
            <small class="text-muted" style="font-size: 0.75rem;" th:if="${trabajador.id != null}">
                (Nota: Si no desea cambiar la clave, vuelva a escribir la actual)
            </small>
        </div>

        <div class="mb-3 form-check form-switch p-3 bg-light border rounded" th:if="${trabajador.id != null}">
            <input class="form-check-input ms-0 me-2" type="checkbox" role="switch" id="checkActivo" th:field="*{activo}">
            <label class="form-check-label" for="checkActivo">
                <span class="badge bg-success" th:if="${trabajador.activo}">Personal Activo</span>
                <span class="badge bg-secondary" th:unless="${trabajador.activo}">Personal Inactivo</span>
            </label>
        </div>
        
        <input type="hidden" th:if="${trabajador.id == null}" name="activo" value="true">

    </div>

    <div class="modal-footer bg-light">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn text-white" style="background-color: #6f42c1; border-color: #6f42c1;">
            <i class="fa-solid fa-save"></i> Guardar Personal
        </button>
    </div>

</form>